(function(f,d){function h(a){function g(){h.prototype.spin.call(m,"right")}var b=a.attr("id"),c=a.find(".mask"),e=0===c.siblings(".button").length?a.siblings(".button"):c.siblings(".button"),j=c.children(),k=j.length,p=j.outerWidth(),l=!!a.data("loop"),q=a.data("speed")||500,n=a.data("delay")||1500,m=this;l&&(j.first().clone().appendTo(c),k+=1);this.name=a.attr("id");this.mask=c;this.width=p;this.loop=l;this.limit=a.data("limit")||k-1;this.buttons=0<e.length?e:null;this.moves=0;this.speed=q;this.delay=
n;this.spinning=!1;f.carrossel=f.carrossel||{};f.carrossel[b]=this;l?f.setTimeout(g,n):e.each(function(){d(this).on("click",function(a){a.preventDefault();h.prototype.spin.call(m,d(a.target).data("direction"));return!1})})}h.prototype.spin=function(a){if(this.spinning)return!1;var g,b=this,c=function(){b.spin(a)},e=function(a){if(!b.buttons)return!1;switch(a){case 0:b.buttons.filter(function(){return"left"===d(this).data("direction")}).addClass("invisible");break;case "limit":b.buttons.filter(function(){return"right"===
d(this).data("direction")}).addClass("invisible");break;default:b.buttons.filter(function(){return!0===d(this).hasClass("invisible")}).removeClass("invisible")}};"left"===a?g=1:"right"===a&&(g=-1);this.moves-=g;0<=this.moves&&this.moves<=this.limit?(this.spinning=!0,this.mask.animate({left:-1*this.moves*this.width},this.speed,function(){0===b.moves?e(0):b.moves===b.limit?e("limit"):e();b.loop&&f.setTimeout(c,b.delay)})):this.moves>this.limit&&this.loop&&(this.mask.css("left","0"),this.moves=0,c());
0>this.moves&&(this.moves=0);this.spinning=!1};d(".carrossel").each(function(){new h(d(this))})})(this,this.jQuery);